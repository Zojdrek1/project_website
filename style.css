:root{
    --bg:#0c0c0c; --panel:#111; --text:#d0d0d0; --accent:#00ff88; --muted:#7a7a7a;
    --link:#00b8ff; --shadow:0 10px 30px rgba(0,0,0,0.45), inset 0 0 0 1px #1a1a1a;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    background: radial-gradient(1200px 600px at 20% -10%, #101010 0%, var(--bg) 60%) no-repeat var(--bg);
    color:var(--text);
    letter-spacing:.2px;
  }
  .crt{ position: relative; isolation:isolate; }
  .crt:before{
    content:""; position:absolute; inset:0;
    background: repeating-linear-gradient(transparent 0 1px, rgba(255,255,255,.02) 1px 2px);
    mix-blend-mode: overlay; pointer-events:none; opacity:.35; z-index:2;
  }
  .glow{ text-shadow: 0 0 6px rgba(0,255,136,.3), 0 0 20px rgba(0,255,136,.15); }
  .container{ max-width: 1000px; margin: 40px auto; padding: 0 16px; }
  .terminal{
    background: linear-gradient(180deg, #0b0b0b, #0f0f0f);
    border-radius: 12px;
    box-shadow: var(--shadow);
    overflow:hidden;
    border:1px solid #1c1c1c;
  }
  /* Sticky titlebar */
  .titlebar{
    position: sticky; top: 0; z-index: 5;
    display:flex; align-items:center; gap:10px;
    padding:10px 12px; background:#0f0f0f; border-bottom:1px solid #1a1a1a;
  }
  .dots{ display:flex; gap:8px; margin-right:4px; }
  .dot{ width:10px; height:10px; border-radius:50%; background:#2a2a2a; box-shadow: inset 0 0 0 1px #000; }
  .dot.red{ background:#ff5f56; } .dot.yellow{ background:#ffbd2e; } .dot.green{ background:#27c93f; }
  .win-title{ color:var(--muted); font-size:12px; }
  .screen{ padding:24px; min-height:40vh; background:#0d0d0d; }
  .prompt{ display:flex; gap:8px; margin-bottom:12px; align-items:center; }
  .cwd{ color: var(--accent); }
  .caret{ width:8px; height:1.1em; background: var(--accent); animation: blink .9s step-end infinite; display:inline-block; vertical-align:-0.2em; }
  @keyframes blink{ 50%{ opacity:0; } }
  header.site{ display:flex; align-items:center; justify-content:space-between; padding:16px 0 24px; }
  .brand{ color:var(--accent); font-weight:700; font-size:24px; letter-spacing:.5px; }
  .brand small{ color:var(--muted); font-weight:400; font-size:12px; margin-left:8px; }
  /* Hamburger (hidden on desktop) */
  .hamburger{ display:none; position:relative; width:42px; height:38px; border:1px solid #222; background:#101010; border-radius:8px; box-shadow: inset 0 0 0 1px #000; cursor:pointer; }
  .hamburger .bar{ position:absolute; left:9px; right:9px; height:2px; background:#cfcfcf; border-radius:2px; }
  .hamburger .bar:nth-child(1){ top:10px; }
  .hamburger .bar:nth-child(2){ top:18px; }
  .hamburger .bar:nth-child(3){ top:26px; }
  nav.commands{ display:flex; gap:8px; flex-wrap:wrap; }
  nav.commands a{
    text-decoration:none; color:var(--text); background:#101010; border:1px solid #222; padding:8px 12px; border-radius:8px;
    box-shadow: inset 0 0 0 1px #000; transition: transform .06s ease, border-color .15s ease;
  }
  nav.commands a:hover{ border-color:#2e2e2e; transform: translateY(-1px); }
  nav.commands a.active{ color:var(--accent); border-color:#2a684a; box-shadow: inset 0 0 0 1px #0a2; }
  /* Dropdown for Pokemon (collection + binders) */
  nav.commands .dropdown{ position: relative; }
  nav.commands .drop-trigger{
    appearance:none; border:1px solid #222; border-radius:8px; background:#101010; color:var(--text);
    padding:8px 12px; cursor:pointer; box-shadow: inset 0 0 0 1px #000; font: inherit;
    transition: transform .06s ease, border-color .15s ease;
  }
  nav.commands .drop-trigger:hover{ border-color:#2e2e2e; transform: translateY(-1px); }
  nav.commands .drop-trigger.active{ color:var(--accent); border-color:#2a684a; box-shadow: inset 0 0 0 1px #0a2; }
  nav.commands .drop-menu{
    display:none; position:absolute; top:110%; left:0; min-width: 160px; padding:8px; border-radius:10px;
    background:#0f0f0f; border:1px solid #1c1c1c; box-shadow: var(--shadow); z-index: 10;
  }
  nav.commands .drop-menu a{ display:block; margin:4px 0; }
  nav.commands .dropdown:hover .drop-menu,
  nav.commands .dropdown:focus-within .drop-menu{ display:block; }
  nav.commands .dropdown.open .drop-menu{ display:block; }
  
  section[role="tabpanel"]{ display:none; }
  section[role="tabpanel"].active{ display:block; }
  
  .hero h1{ font-size: clamp(22px, 4vw, 34px); margin:.2em 0 .4em; }
  .hero p{ color:#bcbcbc; max-width:70ch; }
  
  .keyvals{ display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:12px; margin-top:18px; }
  .kv{ border:1px dashed #1f1f1f; padding:12px 14px; border-radius:10px; background:#0c0c0c; }
  .kv b{ color:var(--accent); }
  
  .projects{ display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:14px; margin-top:8px; }
  .card{ background:#0e0e0e; border:1px solid #1d1d1d; border-radius:12px; padding:14px; box-shadow: var(--shadow); }
  .card h3{ margin:0 0 8px; font-size:18px; color:var(--accent); }
  .card p{ margin:0 0 10px; color:#c8c8c8; }
  .tags{ display:flex; gap:6px; flex-wrap:wrap; } .tag{ font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid #1f1f1f; background:#0b0b0b; color:#a8a8a8; }
  .btn{ display:inline-flex; align-items:center; gap:8px; text-decoration:none; color:var(--accent); border:1px solid #14442f; padding:8px 12px; border-radius:8px; background:#0a0a0a; box-shadow: inset 0 0 0 1px #062; }
  .btn:hover{ border-color:#1e6f52; }
  footer{ color:#9a9a9a; font-size:12px; margin:22px 0 6px; text-align:center; }
  
  /* ===== Collection ===== */
  .tiles{
    display:grid;
    grid-template-columns: repeat(4, minmax(160px,1fr));
    gap:12px;
    margin-bottom:12px;
  }
  .tile{
    padding:14px; border:1px dashed #1f1f1f; border-radius:10px; background:#0c0c0c;
  }
  .tile b{ color:var(--accent); display:block; margin-bottom:6px; }
  .tile-num{ font-weight:700; font-size:18px; }
  
  .collect-controls{
    display:grid;
    grid-template-columns: 1fr 240px 240px;
    gap:10px; align-items:center; margin-bottom:12px;
  }
  .collect-controls input,
  .collect-controls select{
    padding:8px 10px; background:#0b0b0b; border:1px solid #1f1f1f; color:var(--text); border-radius:8px;
  }
  
  .collection-wrap{
    max-height: 62vh; overflow: auto; border-radius: 12px;
  }
  .collect-grid{
    display:grid; grid-template-columns: repeat(2, minmax(280px, 1fr)); gap:12px;
  }
  .collect-card{
    display:grid; grid-template-columns: 96px 1fr; gap:12px; align-items: stretch;
    background:#0c0c0c; border:1px dashed #1f1f1f; border-radius:10px;
  }
  .collect-media{ display:flex; align-items:center; justify-content:center; overflow: hidden; }
  .collect-img{
    width: 84px; height: 116px; object-fit: cover;
    border-radius:6px; background:#0b0b0b; border:1px solid #1f1f1f;
  }
  /* Hover the entire collection card container, not just image */
  .collect-card{ transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease; will-change: transform; }
  .collect-card:hover,
  .collect-card:focus-within{ transform: translateY(-2px); border-color:#2a684a; box-shadow: 0 8px 20px rgba(0,0,0,.35), inset 0 0 0 1px #062; }
  .collect-body{ display:flex; flex-direction:column; gap:6px; }
  .collect-name{ margin:0; color:var(--text); font-size:16px; }
  .collect-meta{ color:#bdbdbd; }
  .collect-prices{ color:#cfcfcf; }
  .collect-open{ align-self:flex-start; margin-top:4px; }
  
  /* ---------- Responsive ---------- */
  :root{ --tap: 44px; }
  
  @media (max-width: 900px){
    .container{ margin: 28px auto; }
    .screen{ padding: 18px; }
    .collect-controls{ grid-template-columns: 1fr 1fr; }
    .collect-controls .collect-lang{ grid-column: 1 / -1; }
  }
  
  @media (max-width: 700px){
    .tiles{ grid-template-columns: repeat(2, 1fr); }
    .collect-grid{ grid-template-columns: 1fr; }
    .collect-card{ grid-template-columns: 88px 1fr; }
  }
  
  @media (max-width: 600px){
    /* Brand and hamburger on one line; nav drops below */
    header.site{ display:flex; flex-wrap: wrap; align-items:center; gap:10px; }
    .brand{ font-size: 20px; flex: 1 1 auto; }
    /* Show hamburger, hide nav by default */
    .hamburger{ display:block; }
    nav.commands{ display:none; flex-direction: column; gap:8px; width:100%; }
    body.menu-open nav.commands{ display:flex; }
    nav.commands a{ line-height: var(--tap); padding: 0 14px; border-radius: 10px; flex: 1 1 auto; text-align: center; }
    /* Mobile dropdown: full-width and tap to open */
    nav.commands .dropdown{ width: 100%; }
    nav.commands .drop-trigger{ width:100%; text-align:center; }
    nav.commands .drop-menu{ position: static; width: 100%; margin-top: 8px; }
    nav.commands .drop-menu a{ margin: 6px 0; text-align: center; }
    /* Only show on open for touch */
    nav.commands .dropdown:hover .drop-menu{ display:none; }
    nav.commands .dropdown:focus-within .drop-menu{ display:none; }
    nav.commands .dropdown.open .drop-menu{ display:block; }
    .titlebar{ padding: 8px 10px; }
    .screen{ min-height: auto; padding: 14px; }
    .prompt{ gap: 6px; font-size: 14px; line-height: 1.4; flex-wrap: wrap; }
    .caret{ height: 1em; width: 6px; }
    .card{ padding: 12px; border-radius: 10px; }
    .card h3{ font-size: 16px; margin-bottom: 6px; }
    .card p{ font-size: 14px; }
    .btn{ justify-content: center; width: 100%; }
  }
  
  @media (max-width: 360px){
    .brand{ font-size: 18px; }
    .hero h1{ font-size: clamp(18px, 6vw, 24px); }
    nav.commands a{ font-size: 14px; padding: 0 10px; }
  }
  
  @media (min-width: 1200px){
    .container{ max-width: 1120px; }
    .projects{ grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
  }
  
  @media (prefers-reduced-motion: reduce){
    .caret{ animation: none; }
  }

  /* --- Normalize selects in Safari (only inside Collection) --- */
#collection select {
    -webkit-appearance: none; /* Safari/iOS */
    appearance: none;
    background-color: #0b0b0b;
    border: 1px solid #1f1f1f;
    border-radius: 8px;
    color: #d0d0d0;
    font: inherit;
    height: 40px;
    line-height: 1.2;
    padding: 8px 36px 8px 10px; /* room for custom arrow */
  }
  
  /* Match search input height */
  #collection input[type="text"] {
    height: 40px;
  }
  
  /* Custom chevron so it looks the same across browsers */
  #collection select {
    background-image:
      url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%23a8a8a8' d='M7 10l5 5 5-5z'/></svg>");
    background-repeat: no-repeat;
    background-position: right 10px center;
    background-size: 14px 14px;
  }
  
  /* Focus style to match your inputs */
  #collection select:focus,
  #collection input[type="text"]:focus {
    outline: 2px solid #1e6f52;
    outline-offset: 2px;
    border-color: #1e6f52;
  }
  
  /* Hide legacy arrow (harmless elsewhere) */
  select::-ms-expand { display: none; }

/* Make search bar same height as dropdowns */
.collect-controls input[type="text"],
.collect-controls select {
  -webkit-appearance: none;
  appearance: none;
  background-color: #0b0b0b;
  border: 1px solid #1f1f1f;
  border-radius: 8px;
  color: #d0d0d0;
  font: inherit;
  height: 40px;              /* same for both */
  line-height: 1.2;
  padding: 8px 10px;         /* text padding */
}

/* ===== Binders (simple image gallery) ===== */
.binders-controls{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin: 10px 0 12px; }
.binders-controls select{
  -webkit-appearance: none; appearance: none;
  background-color:#0b0b0b; border:1px solid #1f1f1f; border-radius:8px; color:#d0d0d0;
  font: inherit; height:40px; line-height:1.2; padding:8px 36px 8px 10px;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%23a8a8a8' d='M7 10l5 5 5-5z'/></svg>");
  background-repeat:no-repeat; background-position:right 10px center; background-size:14px 14px;
}
.binders-pages{ display:inline-flex; border:1px solid #1f1f1f; border-radius:8px; overflow:hidden; box-shadow: inset 0 0 0 1px #000; }
.binders-pages input{ display:none; }
.binders-pages label{ padding:8px 12px; cursor:pointer; color:#cfcfcf; background:#0b0b0b; user-select:none; }
.binders-pages label + input + label{ border-left:1px solid #1f1f1f; }
.binders-pages input:checked + label{ color:var(--accent); background:#0e0e0e; }

.binders-pager{ display:inline-flex; gap:8px; align-items:center; margin-left:auto; }
.binders-page-indicator{ color:#bcbcbc; font-size:13px; }
.binders-pager .btn[disabled]{ opacity:.5; cursor:not-allowed; }
.binders-list{ display:flex; flex-direction:column; gap:16px; }
.binder-set{ border:1px dashed #1f1f1f; border-radius:10px; background:#0c0c0c; padding:12px; }
.binder-set h3{ margin:0 0 10px; color:var(--accent); font-size:16px; display:flex; align-items:center; gap:10px; }
.binder-set .btn{ padding:6px 10px; font-size:13px; }
.binder-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(86px, 1fr)); gap:10px; }
.binder-card{ display:block; text-decoration:none; width:100%; background:#0c0c0c; border:1px solid #1f1f1f; border-radius:10px; padding:8px; color:var(--text); box-shadow: inset 0 0 0 1px #000; position: relative; }
.binder-img{ width: 100%; height: auto; aspect-ratio: 63 / 88; object-fit: cover; border-radius:6px; background:#0b0b0b; border:1px solid #1f1f1f; box-shadow: inset 0 0 0 1px #000; }
/* Hover the entire binder card container */
.binder-card{ transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease; will-change: transform; }
.binder-card:hover,
.binder-card:focus-visible{ transform: translateY(-2px); border-color:#2a684a; box-shadow: 0 8px 20px rgba(0,0,0,.35), inset 0 0 0 1px #062; }
.binder-img.fallback{ display:flex; align-items:center; justify-content:center; font-size:11px; color:#777; }
.binder-img.binder-empty{ opacity:.25; border-style:dashed; }
.binder-card.binder-missing{ opacity:.7; }
.binder-card.binder-missing .binder-img{ filter: grayscale(100%); opacity:.7; }

/* Owned/Missing badge */
.binder-badge{
  position:absolute; top:8px; right:8px; z-index:2;
  padding:2px 6px; border-radius:999px; font-size:11px; line-height:1.4; letter-spacing:.2px;
  border:1px solid #1f1f1f; background:#0b0b0b; color:#cfcfcf; box-shadow: inset 0 0 0 1px #000;
}
.binder-badge.owned{ color: var(--accent); border-color:#14442f; box-shadow: inset 0 0 0 1px #062; }
.binder-badge.missing{ color:#eaa; border-color:#442; background:#1a1111; }

/* Page layout: group into 3x3 or 4x3 */
.binder-pages{ display:grid; gap:16px; }
.binder-page{ display:grid; gap:10px; justify-content: center; }
/* Cap max width per card to avoid upscaling blur on large screens */
.binder-page.cols-3{ --binder-card-max: 220px; grid-template-columns: repeat(3, minmax(0, var(--binder-card-max))); }
.binder-page.cols-4{ --binder-card-max: 190px; grid-template-columns: repeat(4, minmax(0, var(--binder-card-max))); }

/* Binders status */
#binders-status{ white-space: normal; }

/* (Animations removed per request) */

/* (Panel animations removed per request) */

/* (Image fade-in removed per request) */

/* ----- Mobile optimizations ----- */
@media (max-width: 600px){
  .binders-controls{ gap:8px; }
  .binders-controls select{ flex:1 1 auto; min-width:0; }
  .binders-pages label{ padding:6px 10px; }
  .binders-pager{ width:100%; justify-content:space-between; margin-left:0; }
  .binder-page{ gap:8px; }
  .binder-card{ padding:6px; border-radius:8px; }
  .binder-img{ border-radius:5px; }
  .binder-name{ font-size:13px; }
  .binder-sub{ font-size:11px; }
  /* Reduce columns for 12/page on phones */
  .binder-page.cols-4{ grid-template-columns: repeat(3, 1fr); }
  .binder-page.cols-3{ grid-template-columns: repeat(3, 1fr); }
}

@media (max-width: 380px){
  /* Further reduce to 2 columns on very small screens */
  .binder-page.cols-3,
  .binder-page.cols-4{ grid-template-columns: repeat(2, 1fr); }
}

/* Card metadata */
.binder-meta{ margin-top:8px; display:flex; flex-direction:column; gap:4px; }
.binder-name{ font-size:14px; color:#e0e0e0; line-height:1.2; }
.binder-sub{ font-size:12px; color:#b0b0b0; }

/* Keep custom arrow only for selects */
.collect-controls select {
  padding-right: 36px;
  background-image:
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%23a8a8a8' d='M7 10l5 5 5-5z'/></svg>");
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 14px 14px;
}

/* Same height + font for all controls */
.collect-controls input[type="text"],
.collect-controls select {
  height: 40px;
  line-height: 1.2;
  font-size: 15px;   /* normalize font size */
}

/* Layout: search grows, selects fixed width */
.collect-controls {
  display: flex;
  gap: 12px;
  align-items: center;          /* vertical align */
  flex-wrap: wrap;              /* wrap on small screens */
}

.collect-controls .collect-search { 
  flex: 1 1 420px;              /* grows to fill row */
  min-width: 220px; 
}

.collect-controls .collect-set,
.collect-controls .collect-lang,
.collect-controls .collect-sort {
  flex: 0 0 220px;              /* fixed width selects */
}

/* Make sure the injected Sort control matches styles */
.collect-controls .collect-sort {
  font-size: 15px;              /* Safari sometimes bumps this */
  padding-right: 36px;          /* keep space for chevron */
}

/* Mobile: stack full-width */
@media (max-width: 700px) {
  .collect-controls .collect-search,
  .collect-controls .collect-set,
  .collect-controls .collect-lang,
  .collect-controls .collect-sort {
    flex: 1 1 100%;
    min-width: 0;
  }
}
